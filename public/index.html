<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>VoxTalk™ Clone-11 (Stripe)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://js.stripe.com/v3/"></script>
</head>

<body>
  <header class="topbar">
    <h1 class="brand">VoxTalk<sup>™</sup></h1>
    <nav class="nav-buttons">
      <button class="pill ghost" onclick="openModal('cartModal')">🛒 Cart</button>
      <button class="pill ghost" onclick="openModal('infoModal')">ℹ️ Info</button>
      <button class="pill ghost" id="checkoutBtn">💳 Checkout</button>
    </nav>
  </header>

  <main class="stage">
    <button id="haloBtn" class="halo-btn">
      <div class="halo ring r1"></div>
      <div class="halo ring r2"></div>
      <div class="halo ring r3"></div>
      <span class="halo-label">Click&nbsp;to&nbsp;Talk</span>
    </button>
    <audio id="remote" autoplay playsinline></audio>
    <button id="stopBtn" class="stop-btn hidden">Pause Voice</button>
  </main>

  <!-- Classic Chat -->
  <section class="quiet">
    <form id="quietForm" class="quiet-form" autocomplete="off">
      <input id="quietInput" class="quiet-input" type="text"
             placeholder="Type here to chat with VoxTalk..." />
      <button id="sendBtn" class="pill send-btn" type="submit">Send</button>
    </form>
    <div id="thread" class="thread"></div>
  </section>

  <!-- Bottom Controls -->
  <div class="bottom-controls">
    <button class="corner-btn left" id="viewBtn">📜 View Conversation</button>
    <a class="corner-btn right" href="tel:18005551234">📞 Contact Human</a>
  </div>

  <!-- View Conversation Drawer -->
  <div id="viewDrawer" class="drawer hidden">
    <div class="drawer-content">
      <h3>Conversation History</h3>
      <div id="drawerThread" class="drawer-thread"></div>
      <p class="note">Enter your email to receive a copy:</p>
      <form class="drawer-form" onsubmit="return false;">
        <input type="email" id="emailInput" placeholder="you@example.com" />
        <button class="pill small" id="sendEmailBtn">Send</button>
      </form>
      <button class="pill ghost small" id="closeDrawerBtn">Close</button>
    </div>
  </div>

  <!-- 🛒 CART MODAL -->
  <div id="cartModal" class="modal hidden">
    <div class="modal-content">
      <h2>Your Cart – WalSmart™</h2>
      <table class="cart-table">
        <tr><td>Organic Apples (2 lb)</td><td>$3.49</td></tr>
        <tr><td>Windshield De-Icer – 1 gal</td><td>$12.99</td></tr>
        <tr class="total-row"><td><strong>Total</strong></td><td><strong>$16.48</strong></td></tr>
      </table>
      <button class="pill" onclick="closeModal('cartModal')">Close</button>
    </div>
  </div>

  <!-- ℹ️ INFO MODAL -->
  <div id="infoModal" class="modal hidden">
    <div class="modal-content">
      <h2>About VoxTalk & WalSmart</h2>
      <p><strong>WalSmart™ is built on VoxTalk™</strong> — a conversational assistant designed for partnership.<br>
      Technology that listens, and humans who lead.</p>
      <p>You can talk, or if you prefer, use “No Voice Mode” and type your question instead.</p>
      <p class="note">Click outside this box to return.</p>
      <button class="pill" onclick="closeModal('infoModal')">Close</button>
    </div>
  </div>

  <script>
  // ----- Modal Logic -----
  function openModal(id){ document.getElementById(id).classList.remove("hidden"); }
  function closeModal(id){ document.getElementById(id).classList.add("hidden"); }
  document.querySelectorAll(".modal").forEach(m =>
    m.addEventListener("click", e => {
